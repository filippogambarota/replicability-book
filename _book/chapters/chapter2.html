<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>2&nbsp; Replicability and reproducibility – The three Rs of trustworthy science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/chapter3.html" rel="next">
<link href="../chapters/chapter1.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-7580570a2e354cd56757c689413fca0c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/chapter2.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Replicability and reproducibility</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">The three Rs of trustworthy science</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">What is a replication</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Replicability and reproducibility</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Probability of Replication</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Statistical methods for replication assessment</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Meta-analysis and publication bias</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Improving study robustness</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Planning a replication study</span></span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#doing-research-is-hard" id="toc-doing-research-is-hard" class="nav-link active" data-scroll-target="#doing-research-is-hard"><span class="header-section-number">3</span> Doing research is hard…</a>
  <ul class="collapse">
<li><a href="#doing-research-is-hard-1" id="toc-doing-research-is-hard-1" class="nav-link" data-scroll-target="#doing-research-is-hard-1"><span class="header-section-number">3.1</span> Doing research is hard…</a></li>
  <li><a href="#doing-research-is-hard-2" id="toc-doing-research-is-hard-2" class="nav-link" data-scroll-target="#doing-research-is-hard-2"><span class="header-section-number">3.2</span> Doing research is hard…</a></li>
  <li><a href="#doing-reproducible-research-is-even-harder" id="toc-doing-reproducible-research-is-even-harder" class="nav-link" data-scroll-target="#doing-reproducible-research-is-even-harder"><span class="header-section-number">3.3</span> Doing <u>reproducible</u> research is even harder… 😱</a></li>
  </ul>
</li>
  <li>
<a href="#reproducibility-starter-pack" id="toc-reproducibility-starter-pack" class="nav-link" data-scroll-target="#reproducibility-starter-pack"><span class="header-section-number">4</span> Reproducibility starter pack</a>
  <ul class="collapse">
<li><a href="#reproducibility-starter-pack-construction_worker" id="toc-reproducibility-starter-pack-construction_worker" class="nav-link" data-scroll-target="#reproducibility-starter-pack-construction_worker"><span class="header-section-number">4.1</span> Reproducibility starter pack :construction_worker:</a></li>
  </ul>
</li>
  <li>
<a href="#r-programming-language" id="toc-r-programming-language" class="nav-link" data-scroll-target="#r-programming-language"><span class="header-section-number">5</span> R Programming Language</a>
  <ul class="collapse">
<li><a href="#r" id="toc-r" class="nav-link" data-scroll-target="#r"><span class="header-section-number">5.1</span> R</a></li>
  <li><a href="#r---cran" id="toc-r---cran" class="nav-link" data-scroll-target="#r---cran"><span class="header-section-number">5.2</span> R - CRAN</a></li>
  <li><a href="#r---pypl-index" id="toc-r---pypl-index" class="nav-link" data-scroll-target="#r---pypl-index"><span class="header-section-number">5.3</span> R - PYPL Index</a></li>
  <li><a href="#r---pypl-index-1" id="toc-r---pypl-index-1" class="nav-link" data-scroll-target="#r---pypl-index-1"><span class="header-section-number">5.4</span> R - PYPL Index</a></li>
  <li><a href="#r-or-python" id="toc-r-or-python" class="nav-link" data-scroll-target="#r-or-python"><span class="header-section-number">5.5</span> R or Python?</a></li>
  <li><a href="#modern-r" id="toc-modern-r" class="nav-link" data-scroll-target="#modern-r"><span class="header-section-number">5.6</span> Modern R</a></li>
  <li><a href="#functional-programming" id="toc-functional-programming" class="nav-link" data-scroll-target="#functional-programming"><span class="header-section-number">5.7</span> Functional Programming</a></li>
  <li><a href="#functional-programming-example" id="toc-functional-programming-example" class="nav-link" data-scroll-target="#functional-programming-example"><span class="header-section-number">5.8</span> Functional Programming, example…</a></li>
  <li><a href="#functional-programming-1" id="toc-functional-programming-1" class="nav-link" data-scroll-target="#functional-programming-1"><span class="header-section-number">5.9</span> Functional Programming</a></li>
  <li><a href="#functional-programming-2" id="toc-functional-programming-2" class="nav-link" data-scroll-target="#functional-programming-2"><span class="header-section-number">5.10</span> Functional Programming</a></li>
  <li><a href="#functional-programming-3" id="toc-functional-programming-3" class="nav-link" data-scroll-target="#functional-programming-3"><span class="header-section-number">5.11</span> Functional Programming</a></li>
  <li><a href="#functional-programming-apply" id="toc-functional-programming-apply" class="nav-link" data-scroll-target="#functional-programming-apply"><span class="header-section-number">5.12</span> Functional Programming, <code>*apply</code></a></li>
  <li><a href="#for-loops-are-bad" id="toc-for-loops-are-bad" class="nav-link" data-scroll-target="#for-loops-are-bad"><span class="header-section-number">5.13</span> <code>for</code> loops are bad?</a></li>
  <li><a href="#why-functional-programming" id="toc-why-functional-programming" class="nav-link" data-scroll-target="#why-functional-programming"><span class="header-section-number">5.14</span> Why functional programming?</a></li>
  <li><a href="#more-about-functional-programming-in-r" id="toc-more-about-functional-programming-in-r" class="nav-link" data-scroll-target="#more-about-functional-programming-in-r"><span class="header-section-number">5.15</span> More about functional programming in R</a></li>
  <li><a href="#the-tidy-approach" id="toc-the-tidy-approach" class="nav-link" data-scroll-target="#the-tidy-approach"><span class="header-section-number">5.16</span> The Tidy approach</a></li>
  <li><a href="#the-tidy-approach---pipes" id="toc-the-tidy-approach---pipes" class="nav-link" data-scroll-target="#the-tidy-approach---pipes"><span class="header-section-number">5.17</span> The Tidy approach - Pipes</a></li>
  <li><a href="#the-tidy-approach---pipes-1" id="toc-the-tidy-approach---pipes-1" class="nav-link" data-scroll-target="#the-tidy-approach---pipes-1"><span class="header-section-number">5.18</span> The Tidy approach - Pipes</a></li>
  <li><a href="#more-about-the-tidy-approach" id="toc-more-about-the-tidy-approach" class="nav-link" data-scroll-target="#more-about-the-tidy-approach"><span class="header-section-number">5.19</span> More about the Tidy approach</a></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2"><span class="header-section-number">5.20</span> ggplot2</a></li>
  <li><a href="#ggplot2-1" id="toc-ggplot2-1" class="nav-link" data-scroll-target="#ggplot2-1"><span class="header-section-number">5.21</span> ggplot2</a></li>
  </ul>
</li>
  <li>
<a href="#literate-programming" id="toc-literate-programming" class="nav-link" data-scroll-target="#literate-programming"><span class="header-section-number">6</span> Literate Programming</a>
  <ul class="collapse">
<li><a href="#literate-programming-1" id="toc-literate-programming-1" class="nav-link" data-scroll-target="#literate-programming-1"><span class="header-section-number">6.1</span> Literate Programming</a></li>
  <li><a href="#literate-programming-the-markup-language" id="toc-literate-programming-the-markup-language" class="nav-link" data-scroll-target="#literate-programming-the-markup-language"><span class="header-section-number">6.2</span> Literate Programming, the markup language</a></li>
  <li><a href="#latex" id="toc-latex" class="nav-link" data-scroll-target="#latex"><span class="header-section-number">6.3</span> LaTeX </a></li>
  <li><a href="#html" id="toc-html" class="nav-link" data-scroll-target="#html"><span class="header-section-number">6.4</span> HTML</a></li>
  <li><a href="#markdown" id="toc-markdown" class="nav-link" data-scroll-target="#markdown"><span class="header-section-number">6.5</span> Markdown</a></li>
  <li><a href="#markdown-1" id="toc-markdown-1" class="nav-link" data-scroll-target="#markdown-1"><span class="header-section-number">6.6</span> Markdown</a></li>
  <li><a href="#markdown-source-code" id="toc-markdown-source-code" class="nav-link" data-scroll-target="#markdown-source-code"><span class="header-section-number">6.7</span> Markdown (source code)</a></li>
  <li><a href="#whats-wrong-about-microsoft-word" id="toc-whats-wrong-about-microsoft-word" class="nav-link" data-scroll-target="#whats-wrong-about-microsoft-word"><span class="header-section-number">6.8</span> What’s wrong about Microsoft Word?</a></li>
  <li><a href="#whats-wrong-about-microsoft-word-1" id="toc-whats-wrong-about-microsoft-word-1" class="nav-link" data-scroll-target="#whats-wrong-about-microsoft-word-1"><span class="header-section-number">6.9</span> What’s wrong about Microsoft Word?</a></li>
  <li><a href="#the-solution-quarto" id="toc-the-solution-quarto" class="nav-link" data-scroll-target="#the-solution-quarto"><span class="header-section-number">6.10</span> The solution… Quarto</a></li>
  <li><a href="#basic-markdown" id="toc-basic-markdown" class="nav-link" data-scroll-target="#basic-markdown"><span class="header-section-number">6.11</span> Basic Markdown</a></li>
  </ul>
</li>
  <li>
<a href="#lets-see-a-practical-example" id="toc-lets-see-a-practical-example" class="nav-link" data-scroll-target="#lets-see-a-practical-example"><span class="header-section-number">7</span> Let’s see a practical example!</a>
  <ul class="collapse">
<li><a href="#more-about-quarto-and-r-markdown" id="toc-more-about-quarto-and-r-markdown" class="nav-link" data-scroll-target="#more-about-quarto-and-r-markdown"><span class="header-section-number">7.1</span> More about Quarto and R Markdown</a></li>
  </ul>
</li>
  <li>
<a href="#git-and-github" id="toc-git-and-github" class="nav-link" data-scroll-target="#git-and-github"><span class="header-section-number">8</span> Git and Github</a>
  <ul class="collapse">
<li><a href="#git-and-github-1" id="toc-git-and-github-1" class="nav-link" data-scroll-target="#git-and-github-1"><span class="header-section-number">8.1</span> Git and Github</a></li>
  </ul>
</li>
  <li>
<a href="#veeeery-basic-git-workflow" id="toc-veeeery-basic-git-workflow" class="nav-link" data-scroll-target="#veeeery-basic-git-workflow"><span class="header-section-number">9</span> Veeeery basic Git workflow</a>
  <ul class="collapse">
<li><a href="#veeeery-basic-git-workflow-1" id="toc-veeeery-basic-git-workflow-1" class="nav-link" data-scroll-target="#veeeery-basic-git-workflow-1"><span class="header-section-number">9.1</span> Veeeery basic Git workflow</a></li>
  <li><a href="#github" id="toc-github" class="nav-link" data-scroll-target="#github"><span class="header-section-number">9.2</span> Github</a></li>
  <li><a href="#github-1" id="toc-github-1" class="nav-link" data-scroll-target="#github-1"><span class="header-section-number">9.3</span> Github</a></li>
  <li><a href="#more-about-git-and-github" id="toc-more-about-git-and-github" class="nav-link" data-scroll-target="#more-about-git-and-github"><span class="header-section-number">9.4</span> More about Git and Github</a></li>
  </ul>
</li>
  <li>
<a href="#open-science-framework" id="toc-open-science-framework" class="nav-link" data-scroll-target="#open-science-framework"><span class="header-section-number">10</span> Open Science Framework</a>
  <ul class="collapse">
<li><a href="#open-science-framework-1" id="toc-open-science-framework-1" class="nav-link" data-scroll-target="#open-science-framework-1"><span class="header-section-number">10.1</span> Open Science Framework</a></li>
  <li><a href="#open-science-framework-2" id="toc-open-science-framework-2" class="nav-link" data-scroll-target="#open-science-framework-2"><span class="header-section-number">10.2</span> Open Science Framework</a></li>
  <li>
<a href="#open-science-framework-3" id="toc-open-science-framework-3" class="nav-link" data-scroll-target="#open-science-framework-3"><span class="header-section-number">10.3</span> Open Science Framework</a>
  <ul class="collapse">
<li><a href="#osf-and-github" id="toc-osf-and-github" class="nav-link" data-scroll-target="#osf-and-github"><span class="header-section-number">10.3.1</span> OSF and Github</a></li>
  <li><a href="#preprints" id="toc-preprints" class="nav-link" data-scroll-target="#preprints"><span class="header-section-number">10.3.2</span> Preprints</a></li>
  </ul>
</li>
  <li><a href="#more-on-osf" id="toc-more-on-osf" class="nav-link" data-scroll-target="#more-on-osf"><span class="header-section-number">10.4</span> More on OSF</a></li>
  <li><a href="#more-on-reproducibility" id="toc-more-on-reproducibility" class="nav-link" data-scroll-target="#more-on-reproducibility"><span class="header-section-number">10.5</span> More on reproducibility</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Replicability and reproducibility</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="doing-research-is-hard" class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> Doing research is hard…</h1>
<section id="doing-research-is-hard-1" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="doing-research-is-hard-1">
<span class="header-section-number">3.1</span> Doing research is hard…</h2>
<p>. . .</p>
<ul>
<li>you have to <strong>read</strong> papers, textbooks, slides and track information</li>
</ul>
<p>. . .</p>
<ul>
<li>you have to <strong>plan</strong> your experiment or research</li>
</ul>
<p>. . .</p>
<ul>
<li>you have to <strong>collect, organize and manage the research data</strong>
</li>
</ul>
<p>. . .</p>
<ul>
<li>you have to <strong>analyze data</strong>, create <strong>figures</strong> and <strong>tables</strong>
</li>
</ul>
<p>. . .</p>
<ul>
<li>you have to <strong>write</strong> reports, papers, slides, etc.</li>
</ul></section><section id="doing-research-is-hard-2" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="doing-research-is-hard-2">
<span class="header-section-number">3.2</span> Doing research is hard…</h2>
<center>
<div>

</div>
<div class="quarto-layout-panel" data-layout-nrow="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">
<p><img src="../img/meme1.jpg" class="img-fluid" width="200"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: center;">
<p><img src="../img/meme2.jpg" class="img-fluid" width="300"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="../img/meme3.png" class="img-fluid" width="300"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="../img/meme4.png" class="img-fluid" width="300"></p>
</div>
</div>
</div>
</center>
</section><section id="doing-reproducible-research-is-even-harder" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="doing-reproducible-research-is-even-harder">
<span class="header-section-number">3.3</span> Doing <u>reproducible</u> research is even harder… 😱</h2>
<p>. . .</p>
<ul>
<li>organize data in a sharable and comprehensible format</li>
</ul>
<p>. . .</p>
<ul>
<li>choose a future-proof place to share data along the research paper</li>
</ul>
<p>. . .</p>
<ul>
<li>analyze data using a reproducible framework: code, programming language, scripting</li>
</ul>
<p>. . .</p>
<ul>
<li>report data (papers, slides, etc.) using a reproducible framework</li>
</ul></section></section><section id="reproducibility-starter-pack" class="level1 section" data-number="4"><h1 class="section" data-number="4">
<span class="header-section-number">4</span> Reproducibility starter pack</h1>
<section id="reproducibility-starter-pack-construction_worker" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="reproducibility-starter-pack-construction_worker">
<span class="header-section-number">4.1</span> Reproducibility starter pack :construction_worker:</h2>
<p>. . .</p>
<ul>
<li><h3 id="a-general-purpose-or-flexible-enough-programming-language-such-as-or" data-number="4.1.1" class="anchored">
<span class="header-section-number">4.1.1</span> A general purpose (or flexible enough) <span class="imp">programming language</span> such as <svg viewbox="0 0 581 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> or <svg viewbox="0 0 448 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"></path></svg>
</h3></li>
</ul>
<p>. . .</p>
<ul>
<li><h3 id="a-literate-programming-framework-to-integrate-code-and-text" data-number="4.1.2" class="anchored">
<span class="header-section-number">4.1.2</span> A <span class="imp">literate programming</span> framework to integrate code and text</h3></li>
</ul>
<p>. . .</p>
<ul>
<li><h3 id="a-version-control-system-to-track-projects" data-number="4.1.3" class="anchored">
<span class="header-section-number">4.1.3</span> A <span class="imp">version control system</span> to track projects</h3></li>
</ul>
<p>. . .</p>
<ul>
<li><h3 id="an-online-repository-to-store-the-project-and-sharing-with-others" data-number="4.1.4" class="anchored">
<span class="header-section-number">4.1.4</span> An <span class="imp">online repository</span> to store the project and sharing with others</h3></li>
</ul></section></section><section id="r-programming-language" class="level1 section" data-number="5"><h1 class="section" data-number="5">
<span class="header-section-number">5</span> R Programming Language</h1>
<section id="r" class="level2" data-number="5.1"><h2 data-number="5.1" class="anchored" data-anchor-id="r">
<span class="header-section-number">5.1</span> R</h2>
<blockquote class="blockquote">
<p>R is a free software environment for statistical computing and graphics.</p>
</blockquote>
<ul>
<li>(TBH) Is not a proper general purpose programming language (such as C++ or Python).</li>
<li>New extensions (<em>packages</em>) allow R to do pretty everything (file manager, image processing, webscraping, etc.)</li>
<li>It is free and open-source</li>
<li>The community is extremely active and keep growing</li>
</ul></section><section id="r---cran" class="level2" data-number="5.2"><h2 data-number="5.2" class="anchored" data-anchor-id="r---cran">
<span class="header-section-number">5.2</span> R - CRAN</h2>
<p>The CRAN is the repository where package developers upload their packages and other users can install them.</p>
<center>
<div class="cell" data-layout-align="center">
<iframe src="https://cran.r-project.org/web/packages/" width="672" height="400px" data-external="1">
</iframe>
</div>
</center>
<p>. . .</p>
<p>As the saying goes: if something exist, there is for sure an R package for doing it! :smile:</p>
</section><section id="r---pypl-index" class="level2" data-number="5.3"><h2 data-number="5.3" class="anchored" data-anchor-id="r---pypl-index">
<span class="header-section-number">5.3</span> R - PYPL Index</h2>
<div class="cell" data-layout-align="center">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Source: <a href="https://pypl.github.io/PYPL.html">https://pypl.github.io/PYPL.html</a>
</caption>
<thead><tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Rank</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Language</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Share</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">1-year.trend</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Python</td>
<td style="text-align: left;">28.04%</td>
<td style="text-align: left;">0.30%</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Java</td>
<td style="text-align: left;">15.78%</td>
<td style="text-align: left;">-1.30%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">JavaScript</td>
<td style="text-align: left;">9.27%</td>
<td style="text-align: left;">-0.20%</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">C#</td>
<td style="text-align: left;">6.77%</td>
<td style="text-align: left;">-0.20%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">C/C++</td>
<td style="text-align: left;">6.59%</td>
<td style="text-align: left;">0.40%</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">PHP</td>
<td style="text-align: left;">5.01%</td>
<td style="text-align: left;">-0.40%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">R</td>
<td style="text-align: left;">4.35%</td>
<td style="text-align: left;">0.00%</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: left;">TypeScript</td>
<td style="text-align: left;">3.09%</td>
<td style="text-align: left;">0.30%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: left;">Swift</td>
<td style="text-align: left;">2.54%</td>
<td style="text-align: left;">0.50%</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: left;">Objective-C</td>
<td style="text-align: left;">2.15%</td>
<td style="text-align: left;">0.10%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: left;">Rust</td>
<td style="text-align: left;">2.14%</td>
<td style="text-align: left;">0.50%</td>
</tr>
</tbody>
</table>
</div>
</section><section id="r---pypl-index-1" class="level2" data-number="5.4"><h2 data-number="5.4" class="anchored" data-anchor-id="r---pypl-index-1">
<span class="header-section-number">5.4</span> R - PYPL Index</h2>
<p>The popularity is on a different scale compared to Python but still increasing:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="../img/pypl.svg" height="500" class="figure-img"></p>
<figcaption>Source: <a href="https://pypl.github.io/PYPL.html">https://pypl.github.io/PYPL.html</a></figcaption></figure>
</div>
</section><section id="r-or-python" class="level2" data-number="5.5"><h2 data-number="5.5" class="anchored" data-anchor-id="r-or-python">
<span class="header-section-number">5.5</span> R or Python?</h2>
<ul>
<li><p>Python is a good alternative. Personally, I use and enjoy python but I do most of my work in R.</p></li>
<li><p>Python is a very general-purpose language more powerful for general tasks.</p></li>
<li><p>I find python very useful for programming cognitive experiments, image processing, automatizing tasks and interacting with the operating system</p></li>
<li><p>R is still a little bit superior in terms of data manipulation and visualization. Python is faster and more powerful for complex machine learning.</p></li>
</ul></section><section id="modern-r" class="level2" data-number="5.6"><h2 data-number="5.6" class="anchored" data-anchor-id="modern-r">
<span class="header-section-number">5.6</span> Modern R</h2>
<p>. . .</p>
<ul>
<li>For purist programmers, R is somehow weird: arrays starts with 1, object-oriented programming is hidden, a lot of built-in vectorized functions, etc. See <a href="https://www.burns-stat.com/pages/Tutor/R_inferno.pdf">The R Inferno</a> book for an overview.</li>
</ul>
<p>. . .</p>
<ul>
<li>Despite the weirdness, R have the majority of common programming paradigms (functions, conditionals, iterations, etc.).</li>
</ul>
<p>. . .</p>
<ul>
<li>The scope of this week is not providing an introduction to R but I would put the focus on two topics for a modern usage of R:
<ul>
<li><strong>functional programming</strong></li>
<li>the <strong>tidy</strong> approach</li>
</ul>
</li>
</ul></section><section id="functional-programming" class="level2" data-number="5.7"><h2 data-number="5.7" class="anchored" data-anchor-id="functional-programming">
<span class="header-section-number">5.7</span> Functional Programming</h2>
<blockquote class="blockquote">
<p>In computer science, functional programming is a programming paradigm where programs are constructed by applying and composing functions.</p>
</blockquote>
<p>Despite R can be used both with an <strong>imperative</strong> and <strong>object-oriented approach</strong>, the functional side is quite powerful.</p>
<p>Actually, functional programming is quite complex. Here we refer to breaking down our code into small functions. These functions can be function from packages, custom or anonymous functions.</p>
</section><section id="functional-programming-example" class="level2" data-number="5.8"><h2 data-number="5.8" class="anchored" data-anchor-id="functional-programming-example">
<span class="header-section-number">5.8</span> Functional Programming, example…</h2>
<p>We have a dataset (<code>mtcars</code>) and we want to calculate the mean, median, standard deviation, minimum and maximum of each column and store the result in a table.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
 $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
</div>
</div>
</section><section id="functional-programming-1" class="level2" data-number="5.9"><h2 data-number="5.9" class="anchored" data-anchor-id="functional-programming-1">
<span class="header-section-number">5.9</span> Functional Programming</h2>
<p>The standard (~imperative) option is using a <code>for</code> loop, iterating through columns, calculate the values and store into another data structure.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ncols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">means</span> <span class="op">&lt;-</span> <span class="va">medians</span> <span class="op">&lt;-</span> <span class="va">mins</span> <span class="op">&lt;-</span> <span class="va">maxs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">ncols</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">ncols</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">means</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">medians</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">mins</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">maxs</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">means</span>, <span class="va">medians</span>, <span class="va">mins</span>, <span class="va">maxs</span><span class="op">)</span></span>
<span><span class="va">results</span><span class="op">$</span><span class="va">col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        means    medians       mins       maxs  col
1   20.090625  20.090625  20.090625  20.090625  mpg
2    6.187500   6.187500   6.187500   6.187500  cyl
3  230.721875 230.721875 230.721875 230.721875 disp
4  146.687500 146.687500 146.687500 146.687500   hp
5    3.596563   3.596563   3.596563   3.596563 drat
6    3.217250   3.217250   3.217250   3.217250   wt
7   17.848750  17.848750  17.848750  17.848750 qsec
8    0.437500   0.437500   0.437500   0.437500   vs
9    0.406250   0.406250   0.406250   0.406250   am
10   3.687500   3.687500   3.687500   3.687500 gear
11   2.812500   2.812500   2.812500   2.812500 carb</code></pre>
</div>
</div>
</section><section id="functional-programming-2" class="level2" data-number="5.10"><h2 data-number="5.10" class="anchored" data-anchor-id="functional-programming-2">
<span class="header-section-number">5.10</span> Functional Programming</h2>
<p>We can decompose (and symplify the problem) by writing a function and looping through columns.</p>
<p>. . .</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">summ</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>means <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, medians <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, mins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, maxs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">ncols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"list"</span>, length <span class="op">=</span> <span class="va">ncols</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">ncols</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">dfs</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">summ</span><span class="op">(</span><span class="va">mtcars</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">dfs</span><span class="op">)</span></span>
<span><span class="va">results</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        means medians   mins    maxs
1   20.090625  19.200 10.400  33.900
2    6.187500   6.000  4.000   8.000
3  230.721875 196.300 71.100 472.000
4  146.687500 123.000 52.000 335.000
5    3.596563   3.695  2.760   4.930
6    3.217250   3.325  1.513   5.424
7   17.848750  17.710 14.500  22.900
8    0.437500   0.000  0.000   1.000
9    0.406250   0.000  0.000   1.000
10   3.687500   4.000  3.000   5.000
11   2.812500   2.000  1.000   8.000</code></pre>
</div>
</div>
</section><section id="functional-programming-3" class="level2" data-number="5.11"><h2 data-number="5.11" class="anchored" data-anchor-id="functional-programming-3">
<span class="header-section-number">5.11</span> Functional Programming</h2>
<p>. . .</p>
<p>We can be even more minimalistic by removing the <code>for</code> loop and using the <code>*apply</code> family that provide a series of compact iterative method.</p>
<p>. . .</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">summ</span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">results</span><span class="op">)</span></span>
<span><span class="va">results</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          means medians   mins    maxs
mpg   20.090625  19.200 10.400  33.900
cyl    6.187500   6.000  4.000   8.000
disp 230.721875 196.300 71.100 472.000
hp   146.687500 123.000 52.000 335.000
drat   3.596563   3.695  2.760   4.930
wt     3.217250   3.325  1.513   5.424
qsec  17.848750  17.710 14.500  22.900
vs     0.437500   0.000  0.000   1.000
am     0.406250   0.000  0.000   1.000
gear   3.687500   4.000  3.000   5.000
carb   2.812500   2.000  1.000   8.000</code></pre>
</div>
</div>
</section><section id="functional-programming-apply" class="level2" data-number="5.12"><h2 data-number="5.12" class="anchored" data-anchor-id="functional-programming-apply">
<span class="header-section-number">5.12</span> Functional Programming, <code>*apply</code>
</h2>
<p>. . .</p>
<p>The <code>*apply</code> family is one of the best tool in R. The idea is pretty simple: apply a function to each element of a list.</p>
<p>. . .</p>
<p>The powerful side is that in R everything can be considered as a list. A vector is a list of single elements, a dataframe is a list of columns etc.</p>
<p>. . .</p>
<p>Internally, R is still using a <code>for</code> loop but the verbose part (preallocation, choosing the iterator, indexing) is encapsulated into the <code>*apply</code> function.</p>
<p>. . .</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">means</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">means</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">means</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># the same with sapply</span></span>
<span><span class="va">means</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">mean</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="for-loops-are-bad" class="level2" data-number="5.13"><h2 data-number="5.13" class="anchored" data-anchor-id="for-loops-are-bad">
<span class="header-section-number">5.13</span> <code>for</code> loops are bad?</h2>
<p><code>for</code> loops are the core of each operation in R (and in every programming language). For complex operation thery are more readable and effective compared to <code>*apply</code>. In R we need extra care for writing efficent <code>for</code> loops.</p>
<p>Extremely slow, no preallocation:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># do something</span></span>
<span>  <span class="va">res</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Very fast, no difference compared to <code>*apply</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1000</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># do something</span></span>
<span>  <span class="va">res</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="why-functional-programming" class="level2" data-number="5.14"><h2 data-number="5.14" class="anchored" data-anchor-id="why-functional-programming">
<span class="header-section-number">5.14</span> Why functional programming?</h2>
<p>. . .</p>
<ul>
<li>We can write less and reusable code that can be shared</li>
</ul>
<p>. . .</p>
<ul>
<li>The scripts are more compact, less errors prone and more flexible (imagine that you want to improve the <code>summ</code> function, you only need to change it once instead of touching the <code>for</code> loop)</li>
</ul>
<p>. . .</p>
<ul>
<li>Functions can be easily and consistently documented (see <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html">roxygen</a> documentation) improving the reproducibility and clarity of the code</li>
</ul></section><section id="more-about-functional-programming-in-r" class="level2" data-number="5.15"><h2 data-number="5.15" class="anchored" data-anchor-id="more-about-functional-programming-in-r">
<span class="header-section-number">5.15</span> More about functional programming in R</h2>
<ul>
<li>Advanced R by Hadley Wickham, section on Functional Programming (<a href="https://adv-r.hadley.nz/fp.html">https://adv-r.hadley.nz/fp.html</a>)</li>
<li>Hands-On Programming with R by Garrett Grolemund <a href="https://rstudio-education.github.io/hopr/">https://rstudio-education.github.io/hopr/</a>
</li>
<li>Hadley Wickham: <a href="https://www.youtube.com/watch?v=bzUmK0Y07ck">The Joy of Functional Programming (for Data Science)</a>
</li>
<li><a href="https://www.youtube.com/@brodriguesco/videos">Bruno Rodrigues Youtube Channel</a></li>
</ul>
<center>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p><img src="../img/advanced-r.jpg" class="img-fluid quarto-figure quarto-figure-center" width="200" alt="Advanced R"><img src="../img/hand-on-programming.jpeg" class="img-fluid quarto-figure quarto-figure-center" width="200" alt="Hands-on Programming With R"></p>
</div>
</div>
</div>
</center>
</section><section id="the-tidy-approach" class="level2" data-number="5.16"><h2 data-number="5.16" class="anchored" data-anchor-id="the-tidy-approach">
<span class="header-section-number">5.16</span> The Tidy approach</h2>
<p>The <code>tidyverse</code> is a series of high-quality R packages to do modern data science:</p>
<ul>
<li>data manipulation (<code>dplyr</code>, <code>tidyr</code>)</li>
<li>plotting (<code>ggplot2</code>)</li>
<li>reporting (<code>rmarkdown</code>)</li>
<li>string manipulation (<code>stringr</code>)</li>
<li>functionals (<code>purrr</code>)</li>
<li>…</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="https://raw.githubusercontent.com/rstudio/hex-stickers/main/SVG/tidyverse.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></p>
</figure>
</div>
</section><section id="the-tidy-approach---pipes" class="level2" data-number="5.17"><h2 data-number="5.17" class="anchored" data-anchor-id="the-tidy-approach---pipes">
<span class="header-section-number">5.17</span> The Tidy approach - Pipes</h2>
<p>One of the great improvement from the <code>tidyverse</code> is the usage of the pipe <code>%&gt;%</code> now introduced in base R as <code>|&gt;</code>. You will se these symbols a lot when looking at modern R code.</p>
<p>. . .</p>
<p>The idea is very simple, the standard pattern to apply a function is <code>function(argument)</code>. The pipe can reverse the pattern as <code>argument |&gt; function()</code>. Normally when we apply multiple functions progressively the pattern is this:</p>
<p>. . .</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="the-tidy-approach---pipes-1" class="level2" data-number="5.18"><h2 data-number="5.18" class="anchored" data-anchor-id="the-tidy-approach---pipes-1">
<span class="header-section-number">5.18</span> The Tidy approach - Pipes</h2>
<p>When using the pipe, we remove the redundand assignment <code>&lt;-</code> pattern:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The pipe can be read as <em>“from <strong>x</strong> apply <code>round</code>, then <code>abs</code>, etc.”.</em> The first argument of the piped function is assumed to be the result of the previus call.</p>
</section><section id="more-about-the-tidy-approach" class="level2" data-number="5.19"><h2 data-number="5.19" class="anchored" data-anchor-id="more-about-the-tidy-approach">
<span class="header-section-number">5.19</span> More about the Tidy approach</h2>
<p>The <code>tidy</code> approach contains tons of functions and packages. The overall philosopgy can be deepen in the R for Data Science book.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="../img/r4ds.jpg" class="img-fluid figure-img"></p>
<figcaption><a href="https://r4ds.hadley.nz/">https://r4ds.hadley.nz/</a></figcaption></figure>
</div>
</section><section id="ggplot2" class="level2" data-number="5.20"><h2 data-number="5.20" class="anchored" data-anchor-id="ggplot2">
<span class="header-section-number">5.20</span> ggplot2</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Result</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Base R Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Base R Result</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Only an honour mention to <code>ggplot2</code> <a href="https://ggplot2-book.org/">https://ggplot2-book.org/</a> (part of the <code>tidyverse</code>) that is an amazing package for data visualization following the <em>piping</em> and <em>tidy</em> approach. Is the implementation of the <strong>grammar of graphics</strong> idea.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">iris</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>wi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Length</span>, y <span class="op">=</span> <span class="va">Petal.Width</span>, color <span class="op">=</span> <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">wi</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>size <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="chapter2_files/figure-html/unnamed-chunk-14-1.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>More verbose, more hard coding, more steps and intermidiate objects.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">iris_l</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html">split</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span></span>
<span><span class="va">lms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">iris_l</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Petal.Width</span> <span class="op">~</span> <span class="va">Sepal.Length</span>, data <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span>, pch <span class="op">=</span> <span class="fl">19</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span><span class="va">lms</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, col <span class="op">=</span> <span class="fl">1</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span><span class="va">lms</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, col <span class="op">=</span> <span class="fl">2</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span><span class="va">lms</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>, col <span class="op">=</span> <span class="fl">3</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="chapter2_files/figure-html/unnamed-chunk-16-1.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="ggplot2-1" class="level2" data-number="5.21"><h2 data-number="5.21" class="anchored" data-anchor-id="ggplot2-1">
<span class="header-section-number">5.21</span> ggplot2</h2>
<p>The <code>ggplot2</code> book <a href="https://ggplot2-book.org/">https://ggplot2-book.org/</a> is a great resource to produce high-quality, publication ready plots. Clearly, the advantage of producing the figures entirely writing code are immense in terms of reusability and reproducibility.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="https://raw.githubusercontent.com/rstudio/hex-stickers/main/SVG/ggplot2.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="../img/ggplot2.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></p>
</figure>
</div>
</div>
</div>
</div>
</section></section><section id="literate-programming" class="level1 section" data-number="6"><h1 class="section" data-number="6">
<span class="header-section-number">6</span> Literate Programming</h1>
<section id="literate-programming-1" class="level2" data-number="6.1"><h2 data-number="6.1" class="anchored" data-anchor-id="literate-programming-1">
<span class="header-section-number">6.1</span> Literate Programming<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>
</h2>
<blockquote class="blockquote">
<p>Donald Knuth first defined literate programming as a script, notebook, or computational document that contains an explanation of the program logic in a natural language, interspersed with snippets of macros and source code, which can be compiled and rerun</p>
</blockquote>
<p>For example <strong>jupyter notebooks</strong>, <strong>R Markdown</strong> and now <strong>Quarto</strong> are literate programming frameworks to integrate code and text.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="../img/lp.svg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section><section id="literate-programming-the-markup-language" class="level2" data-number="6.2"><h2 data-number="6.2" class="anchored" data-anchor-id="literate-programming-the-markup-language">
<span class="header-section-number">6.2</span> Literate Programming, the markup language</h2>
<p>Beyond the coding part, the markup language is the core element of a literate programming framework. The idea of a markup language is separating the result from what you actually write. Some examples are:</p>
<ul>
<li>LaTeX</li>
<li>HTML</li>
<li>Markdown</li>
<li>XML</li>
<li>…</li>
</ul></section><section id="latex" class="level2" data-number="6.3"><h2 data-number="6.3" class="anchored" data-anchor-id="latex">
<span class="header-section-number">6.3</span> LaTeX <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>
</h2>
<p><img src="../img/latex-example.png" class="img-fluid"></p>
</section><section id="html" class="level2" data-number="6.4"><h2 data-number="6.4" class="anchored" data-anchor-id="html">
<span class="header-section-number">6.4</span> HTML</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>My First Heading<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>Lorem Ipsum è un testo segnaposto utilizzato nel settore della tipografia e della stampa. Lorem Ipsum è considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo tipografo prese una cassetta di caratteri e li assemblò per preparare un testo campione. È sopravvissuto non solo a più di cinque secoli, ma anche al passaggio alla videoimpaginazione, pervenendoci sostanzialmente inalterato. Fu reso popolare, negli anni ’60, con la diffusione dei fogli di caratteri trasferibili “Letraset”, che contenevano passaggi del Lorem Ipsum, e più recentemente da software di impaginazione come Aldus PageMaker, che includeva versioni del Lorem Ipsum.</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h2</span><span class="dt">&gt;</span>My Second Heading<span class="dt">&lt;/</span><span class="kw">h2</span><span class="dt">&gt;</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>Lorem Ipsum è un testo segnaposto utilizzato nel settore della tipografia e della stampa. </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>Lorem Ipsum è considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>tipografo prese una cassetta di caratteri e li assemblò per preparare un testo campione. </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>È sopravvissuto non solo a più di cinque secoli, ma anche al passaggio alla videoimpaginazione, pervenendoci sostanzialmente inalterato. </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>Fu reso popolare, negli anni ’60, con la diffusione dei </span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>fogli di caratteri trasferibili “Letraset”, che contenevano passaggi del Lorem Ipsum</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>più recentemente da software di impaginazione come Aldus PageMaker, che includeva versioni del Lorem Ipsum.</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="markdown" class="level2" data-number="6.5"><h2 data-number="6.5" class="anchored" data-anchor-id="markdown">
<span class="header-section-number">6.5</span> Markdown<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>
</h2>
<iframe src="https://markdownlivepreview.com/" height="500" width="1000" style="border: 1px solid #464646;display:block;" allowfullscreen="" allow="autoplay">
</iframe>
</section><section id="markdown-1" class="level2" data-number="6.6"><h2 data-number="6.6" class="anchored" data-anchor-id="markdown-1">
<span class="header-section-number">6.6</span> Markdown</h2>
<p>Markdown is one of the most popular markup languages for several reasons:</p>
<ul>
<li>easy to write and read compared to Latex and HTML</li>
<li>easy to convert from Markdown to basically every other format using <code>pandoc</code>
</li>
<li>easy to implement new features</li>
</ul></section><section id="markdown-source-code" class="level2" data-number="6.7"><h2 data-number="6.7" class="anchored" data-anchor-id="markdown-source-code">
<span class="header-section-number">6.7</span> Markdown (source code)</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Markdown</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>Markdown is one of the most popular markup languages for several reasons:</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>easy to write and read compared to Latex and HTML</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>easy to convert from Markdown to basically every other format using <span class="in">`pandoc`</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>easy to implement new features</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>. . .</p>
<p>Also the source code can be used, compared to Latex or HTML, to take notes and read. Latex and HTML need to be compiled otherwise they are very hard to read.</p>
</section><section id="whats-wrong-about-microsoft-word" class="level2" data-number="6.8"><h2 data-number="6.8" class="anchored" data-anchor-id="whats-wrong-about-microsoft-word">
<span class="header-section-number">6.8</span> What’s wrong about Microsoft Word?</h2>
<p>MS Word is a WYSIWYG (<em>what you see is what you get editor</em>) that force users to think about formatting, numbering, etc. Markup languages receive the content (plain text) and the rules and creates the final document.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="../img/wordmeme1.jpg" class="img-fluid"></p>
</div><div class="column" style="width:50%;">
<p><img src="../img/wordmeme2.jpg" class="img-fluid"></p>
</div>
</div>
</section><section id="whats-wrong-about-microsoft-word-1" class="level2" data-number="6.9"><h2 data-number="6.9" class="anchored" data-anchor-id="whats-wrong-about-microsoft-word-1">
<span class="header-section-number">6.9</span> What’s wrong about Microsoft Word?</h2>
<p>Beyond the pure writing process, there are other aspects related to research data.</p>
<ul>
<li>writing math formulas</li>
<li>reporting statistics in the text</li>
<li>producing tables</li>
<li>producing plots</li>
</ul>
<p>In MS Word (or similar) we need to produce everything outside and then manually put figures and tables.</p>
</section><section id="the-solution-quarto" class="level2" data-number="6.10"><h2 data-number="6.10" class="anchored" data-anchor-id="the-solution-quarto">
<span class="header-section-number">6.10</span> The solution… Quarto</h2>
<p>Quarto (<a href="https://quarto.org/">https://quarto.org/</a>) is the evolution of R Markdown that integrate a programming language with the Markdown markup language. It is very simple but quite powerful.</p>
<center>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="https://raw.githubusercontent.com/rstudio/hex-stickers/main/SVG/rmarkdown.svg" class="img-fluid" width="300"></p>
</div><div class="column" style="width:50%;">
<p><img src="https://raw.githubusercontent.com/rstudio/hex-stickers/main/SVG/quarto.svg" class="img-fluid" width="300"></p>
</div>
</div>
</center>
</section><section id="basic-markdown" class="level2" data-number="6.11"><h2 data-number="6.11" class="anchored" data-anchor-id="basic-markdown">
<span class="header-section-number">6.11</span> Basic Markdown</h2>
<p>Markdown can be learned in minutes. You can go to the following link <a href="https://quarto.org/docs/authoring/markdown-basics.html">https://quarto.org/docs/authoring/markdown-basics.html</a> and try to understand the syntax.</p>
<iframe src="https://quarto.org/docs/authoring/markdown-basics.html" style="width:1000px; height:500px;">
</iframe>
</section></section><section id="lets-see-a-practical-example" class="level1 section" data-number="7"><h1 class="section" data-number="7">
<span class="header-section-number">7</span> Let’s see a practical example!</h1>
<section id="more-about-quarto-and-r-markdown" class="level2" data-number="7.1"><h2 data-number="7.1" class="anchored" data-anchor-id="more-about-quarto-and-r-markdown">
<span class="header-section-number">7.1</span> More about Quarto and R Markdown</h2>
<p>The topic is extremely vast. You can do everything in Quarto, a website, thesis, your CV, etc.</p>
<ul>
<li>Yihui Xie - R Markdown Cookbook <a href="https://bookdown.org/yihui/rmarkdown-cookbook/">https://bookdown.org/yihui/rmarkdown-cookbook/</a>
</li>
<li>Yihui Xie - R Markdown: The Definitive Guide <a href="https://bookdown.org/yihui/rmarkdown/">https://bookdown.org/yihui/rmarkdown/</a>
</li>
<li>Quarto documentation <a href="https://quarto.org/docs/guide/">https://quarto.org/docs/guide/</a>
</li>
</ul></section></section><section id="git-and-github" class="level1 section" data-number="8"><h1 class="section" data-number="8">
<span class="header-section-number">8</span> Git and Github</h1>
<section id="git-and-github-1" class="level2" data-number="8.1"><h2 data-number="8.1" class="anchored" data-anchor-id="git-and-github-1">
<span class="header-section-number">8.1</span> Git and Github</h2>
<p>The basic idea is to track changes within a folder, assign a <code>message</code> and eventually a <code>tag</code> to a specific version obtaining a version hystory. The version history is completely navigable, you can go back to a previous version of the code.</p>
<p>. . .</p>
<p>The are advanced features like <code>branches</code> for creating an independent version of the project to test new features and then <code>merge</code> into the main streamline.</p>
<p>. . .</p>
<p>The entire (local) Git project can be hosted on Github to improve collaboration. Other people or collaborators can <code>clone</code> the repository and <code>push</code> their changes to the project.</p>
</section></section><section id="veeeery-basic-git-workflow" class="level1 section" data-number="9"><h1 class="section" data-number="9">
<span class="header-section-number">9</span> Veeeery basic Git workflow</h1>
<section id="veeeery-basic-git-workflow-1" class="level2" data-number="9.1"><h2 data-number="9.1" class="anchored" data-anchor-id="veeeery-basic-git-workflow-1">
<span class="header-section-number">9.1</span> Veeeery basic Git workflow</h2>
<ul>
<li>After installing Git, you can start a new repository opening a terminal on a folder and typing <code>git init</code>. The folder is now a git project you can notice by the hidden <code>.git</code> folder.</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ~/some/folder</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Then you can <code>add</code> files to the staging area. Basically these files are ready to be <code>committed</code> i.e.&nbsp;“written” in the Git history.</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add file1.txt</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># git add . # add everyting</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Finally you can commit the modified version of the file using <code>git commit -m message</code>
</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"my first amazing commit"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>you can see the Git hystory with all your commits:</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="github" class="level2" data-number="9.2"><h2 data-number="9.2" class="anchored" data-anchor-id="github">
<span class="header-section-number">9.2</span> Github</h2>
<p>Imagine to put everyting into a server with nice viewing options and advanced features. Github is just an hosting service for your <code>git</code> folder.</p>
<p>You can create an empty repository on Github named <code>git-test</code>. Now my repo has the path <code>git@github.com:filippogambarota/git-test.git</code>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote add origin git@github.com:filippogambarota/git-test.git</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now our local repository is linked with the remote repository. Every time we do <code>git push</code> our local commits will be uploaded.</p>
<p>If you worked on the repository from another machine or a colleague add some changes, you can do <code>git pull</code> and your local machine will be updated.</p>
<p></p>
<p>The repository <code>git-test</code> is online and can be seen here <a href="https://github.com/filippogambarota/git-test">filippogambarota/git-test</a>.</p>
</section><section id="github-1" class="level2" data-number="9.3"><h2 data-number="9.3" class="anchored" data-anchor-id="github-1">
<span class="header-section-number">9.3</span> Github</h2>
<p>An now let’s see on Github the result:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="../img/git-test.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
</section><section id="more-about-git-and-github" class="level2" data-number="9.4"><h2 data-number="9.4" class="anchored" data-anchor-id="more-about-git-and-github">
<span class="header-section-number">9.4</span> More about Git and Github</h2>
<p>There are a lot of resources online:</p>
<ul>
<li>The Open Science Manual - Zandonella and Massidda - <a href="https://arca-dpss.github.io/manual-open-science/git-chapter.html">Git</a> and <a href="https://arca-dpss.github.io/manual-open-science/github-chapter.html">Github</a> chapters.</li>
<li>https://agripongit.vincenttunru.com/</li>
<li>https://git-scm.com/docs/gittutorial</li>
</ul></section></section><section id="open-science-framework" class="level1 section" data-number="10"><h1 class="section" data-number="10">
<span class="header-section-number">10</span> Open Science Framework</h1>
<section id="open-science-framework-1" class="level2" data-number="10.1"><h2 data-number="10.1" class="anchored" data-anchor-id="open-science-framework-1">
<span class="header-section-number">10.1</span> Open Science Framework</h2>
<blockquote class="blockquote">
<p>OSF is a free, open platform to support your research and enable collaboration.</p>
</blockquote>
<p>Is a great tool to upload and share materials with others and collaborate on a project. Similarly to Github you can track the changes made to a project.</p>
<p>The great addition is having a DOI thus the project is persistently online and can be cited.</p>
<p>It is now common practice to create a OSF project supporting a research paper and put the link within the paper containing supplementary materials, raw data, scripts etc.</p>
<p><img src="../img/osf.jpeg" class="img-fluid"></p>
</section><section id="open-science-framework-2" class="level2" data-number="10.2"><h2 data-number="10.2" class="anchored" data-anchor-id="open-science-framework-2">
<span class="header-section-number">10.2</span> Open Science Framework</h2>
<p>It’s very easy to create a new project, then you simply need to add files and share it.</p>
<p><img src="../img/osf-test.png" class="img-fluid"></p>
<p>The project can be accessed here (depending on the visibility) <a href="https://osf.io/yf9tg/">https://osf.io/yf9tg/</a>.</p>
</section><section id="open-science-framework-3" class="level2" data-number="10.3"><h2 data-number="10.3" class="anchored" data-anchor-id="open-science-framework-3">
<span class="header-section-number">10.3</span> Open Science Framework</h2>
<section id="osf-and-github" class="level3" data-number="10.3.1"><h3 data-number="10.3.1" class="anchored" data-anchor-id="osf-and-github">
<span class="header-section-number">10.3.1</span> OSF and Github</h3>
<p>An interesting feature is linking a Github repository to OSF. Now all changes made on Github (easier to manage) are mirrored into OSF. You can easily work in Github for the coding part and use OSF to upload other data or information and to assign a DOI to the project.</p>
</section><section id="preprints" class="level3" data-number="10.3.2"><h3 data-number="10.3.2" class="anchored" data-anchor-id="preprints">
<span class="header-section-number">10.3.2</span> Preprints</h3>
<p>OSF is also linked to a popular service for preprints called PsyArXiv <a href="https://psyarxiv.com/">https://psyarxiv.com/</a> thus you can link a preprint to an OSF project.</p>
</section></section><section id="more-on-osf" class="level2" data-number="10.4"><h2 data-number="10.4" class="anchored" data-anchor-id="more-on-osf">
<span class="header-section-number">10.4</span> More on OSF</h2>
<ul>
<li>https://help.osf.io/article/342-getting-started-on-the-osf</li>
<li>https://arca-dpss.github.io/manual-open-science/osf-chapter.html</li>
</ul></section><section id="more-on-reproducibility" class="level2" data-number="10.5"><h2 data-number="10.5" class="anchored" data-anchor-id="more-on-reproducibility">
<span class="header-section-number">10.5</span> More on reproducibility</h2>
<p>In general, I highly suggest the online book <strong>The Open Science Manual</strong> <a href="https://arca-dpss.github.io/manual-open-science/">https://arca-dpss.github.io/manual-open-science/</a> written by my friend <strong>Claudio Zandonella</strong> and <strong>Davide Massidda</strong> where these and other topics are explained in details:</p>
<center>
<iframe src="https://arca-dpss.github.io/manual-open-science/" style="width:1000px; height:500px;">
</iframe>
</center>


</section></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p><a href="https://en.wikipedia.org/wiki/Literate_programming">https://en.wikipedia.org/wiki/Literate_programming</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="https://www.overleaf.com/project/6658541939d95ad2ae3d8c99">https://latexbase.com/</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a href="https://markdownlivepreview.com/">https://markdownlivepreview.com/</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../chapters/chapter1.html" class="pagination-link" aria-label="What is a replication">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">What is a replication</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/chapter3.html" class="pagination-link" aria-label="Probability of Replication">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Probability of Replication</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>